/* klioai-frontend/src/app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Fredoka font - KEEPING THIS for now, as it's a distinct part of the current child-friendly feel.
   If you want a more "Notion/Apple" font, we'd switch to a system UI stack or Inter.
   For now, let's see how Fredoka pairs with the new pastels.
*/
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap');

:root {
  /* Base Theme - White & Light Gray */
  --background-main: #F9FAFB; /* gray-50 */
  --background-card: #FFFFFF;
  --text-primary: #1F2937;    /* gray-800 */
  --text-secondary: #6B7280;  /* gray-500 */
  --text-tertiary: #9CA3AF;   /* gray-400 */
  --text-on-accent-dark: #FFFFFF; /* For text on darker pastel accents */
  
  --border-subtle: #F3F4F6;   /* gray-100 */
  --border-input: #D1D5DB;    /* gray-300 */
  --border-focus: var(--accent-primary-darker); /* Use new primary accent for focus */

  /* New Pastel Accent Palette */
  --accent-primary: #A7F3D0;         /* green-200 (Minty Green) */
  --accent-primary-darker: #6EE7B7;  /* green-300 */
  --accent-primary-hover: #34D399;   /* green-400 (a bit more saturated for hover) */
  --accent-primary-text: #065F46;    /* green-800 */

  --accent-secondary: #FED7AA;       /* orange-200 (Soft Peach) */
  --accent-secondary-darker: #FDBA74;/* orange-300 */
  --accent-secondary-hover: #FB923C; /* orange-400 */
  --accent-secondary-text: #9A3412;  /* orange-800 */
  
  --accent-tertiary: #DDD6FE;        /* violet-200 (Soft Lavender) */
  --accent-tertiary-darker: #C4B5FD; /* violet-300 */
  --accent-tertiary-hover: #A78BFA;  /* violet-400 */
  --accent-tertiary-text: #5B21B6;   /* violet-700 (slightly lighter than 800 for better contrast on violet-200) */

  /* Highlight Colors */
  --highlight-yellow-bg: #FEF9C3; /* yellow-100 */
  --highlight-blue-bg: #DBEAFE;   /* blue-100 - keeping a soft blue for some highlights */

  /* Functional Colors */
  --success-color: #10B981; /* green-500 */
  --error-color: #EF4444;   /* red-500 */
  --warning-color: #F59E0B; /* amber-500 */ /* For due soon, etc. */
  
  --error-background-soft: #FEF2F2; /* red-50 (Tailwind v3 name) */
  --error-border-soft: #FECACA;     /* red-200 */
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background-color: var(--background-main); /* UPDATED */
  font-family: 'Fredoka', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  color: var(--text-primary); /* UPDATED */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Custom Animations - KEEPING */
/* ... (fade-in, slide-up, progress-bar, shake-short, shake-strong, pulse-soft - these are fine) ... */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

@keyframes slide-up { 
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-slide-up {
  animation: slide-up 0.4s ease-out forwards;
}


@keyframes progress-bar {
  0% { width: 0%; }
  100% { width: 100%; }
}
.animate-progress-bar {
  animation: progress-bar 2s cubic-bezier(0.25, 1, 0.5, 1) forwards;
}

@keyframes shake-short {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}
.animate-shake-short {
  animation: shake-short 0.3s ease-in-out;
}

.shake {
  animation: shake-strong 0.5s cubic-bezier(.36,.07,.19,.97) both;
}
@keyframes shake-strong {
  10%, 90% { transform: translate3d(-1px, 0, 0); }
  20%, 80% { transform: translate3d(2px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
  40%, 60% { transform: translate3d(4px, 0, 0); }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.03); }
}
.animate-pulse-soft {
  animation: pulse-soft 1.8s ease-in-out infinite;
}


/* Custom scrollbar - Update to use new grays if desired, or keep as is */
::-webkit-scrollbar {
  width: 8px; /* Keep it slim for Notion feel */
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--background-main); /* Match page background */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background: #D1D5DB; /* gray-300, softer */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9CA3AF; /* gray-400 */
}

/* Text Highlighter Effect - UPDATED to use new CSS vars */
.text-highlight-yellow {
  background-image: linear-gradient(180deg, transparent 60%, var(--highlight-yellow-bg) 60%);
  padding: 0 0.1em; 
  margin: 0 -0.1em; 
  display: inline; 
  line-height: 1.3; 
}

.text-highlight-blue { /* Could be renamed to text-highlight-primary-accent or similar if blue is no longer a main theme color */
  background-image: linear-gradient(180deg, transparent 60%, var(--highlight-blue-bg) 60%);
  padding: 0 0.1em;
  margin: 0 -0.1em;
  display: inline;
  line-height: 1.3;
}
/* NEW: Primary Accent Highlight */
.text-highlight-mint {
  background-image: linear-gradient(180deg, transparent 60%, var(--accent-primary) 60%); /* Using the light mint */
  padding: 0 0.1em;
  margin: 0 -0.1em;
  display: inline;
  line-height: 1.3;
}


/* Tailwind Components Layer - UPDATED */
@layer components {
  .input-base {
    @apply w-full px-3.5 py-2.5 text-base border rounded-lg outline-none 
           border-border-input 
           focus:ring-1 focus:ring-accent-primary-darker focus:border-accent-primary-darker 
           placeholder:text-text-tertiary /* Softer placeholder */
           transition-colors duration-150 bg-background-card; /* Ensure input bg is card bg */
  }
  
  .btn-primary { /* This will be our default primary button style - using the new Mint accent */
    @apply bg-accent-primary hover:bg-accent-primary-hover text-accent-primary-text 
           text-base font-semibold py-2.5 px-5 rounded-lg /* Slightly more padding for a softer look */
           transition-all duration-150 ease-in-out flex items-center justify-center
           focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent-primary-darker
           disabled:opacity-70 disabled:cursor-not-allowed disabled:!bg-gray-300 disabled:text-gray-500; /* Clearer disabled state */
          /* 3D effect - optional to add here or in a separate .btn-3d class */
    border-bottom-width: 3px; /* Slightly less than 4px for pastels */
    border-color: var(--accent-primary-darker); /* Dynamic darker shade */
    /* @apply active:translate-y-px active:shadow-inner; /* Simpler active state */
    @apply active:scale-[0.98] active:shadow-inner; /* Keep the scale and inner shadow for tactile feel */
  }
  .btn-primary:disabled {
    border-bottom-width: 2px !important; /* Flatter when disabled */
    border-color: transparent !important;
  }
  .btn-primary:hover:not(:disabled) {
    border-color: var(--accent-primary-hover); /* Darken "shadow" on hover slightly */
  }


  .btn-secondary { /* A softer secondary button */
    @apply bg-gray-100 hover:bg-gray-200 text-text-secondary
           text-base font-medium py-2.5 px-5 rounded-lg
           transition-all duration-150 ease-in-out flex items-center justify-center
           focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400
           disabled:opacity-70 disabled:cursor-not-allowed disabled:!bg-gray-300 disabled:text-gray-500;
    border-bottom-width: 3px;
    border-color: #CBD5E1; /* gray-300 */
    @apply active:scale-[0.98] active:shadow-inner;
  }
   .btn-secondary:disabled {
    border-bottom-width: 2px !important;
    border-color: transparent !important;
  }
  .btn-secondary:hover:not(:disabled) {
    border-color: #9CA3AF; /* gray-400 */
  }


  .btn-pinpad { /* Kept purple for now, as it's a specific UI element, can be changed */
    @apply bg-slate-100 hover:bg-slate-200 text-slate-700 text-xl sm:text-2xl font-medium py-3.5 sm:py-4 rounded-lg 
           transition-colors duration-100 ease-in-out disabled:opacity-50
           focus:outline-none focus-visible:ring-1 focus-visible:ring-purple-500; /* Still purple focus */
  }

  .card-base { /* Base card style for dashboard etc. */
    @apply bg-background-card rounded-xl shadow-lg p-6 sm:p-8 md:p-10 w-full animate-fade-in border border-border-subtle; /* Subtle border */
  }

  .label-base {
    @apply block text-sm font-medium text-text-secondary mb-1.5 flex items-center; /* Use secondary text for labels */
  }
  .label-icon { /* Generic icon style within labels */
    @apply mr-1.5 text-text-tertiary; /* Softer icon color */
  }

  .error-message-box {
    @apply flex items-center bg-error-background-soft text-error-color text-sm p-3 rounded-lg border border-error-border-soft;
  }
  .error-message-icon {
    @apply mr-2 text-error-color flex-shrink-0 text-base;
  }
}